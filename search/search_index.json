{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"BellaAddon Documentation","text":"<p>BellaAddon is a helper plugin for BelorisRP servers (Spigot/Magma 1.20.1). It provides teleportation (OTP/ATP), backpacks, money and bank handling, Discord bot integration, item enchanting, and QoL commands.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Getting started: Requirements, Installation, Building</li> <li>Configuration: Config files</li> <li>Commands: Command reference</li> <li>Features: Backpack, Teleportation, Money/Bank, Discord bot, Item enchanting</li> <li>API: Overview and JavaDoc</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>OTP/ATP teleportation with cooldowns and visual effects</li> <li>Backpack items with DB persistence and safety checks</li> <li>Money/bank management with conversions and admin tools</li> <li>Discord bot (JDA) commands linked to in-game data</li> <li>Enchanted items that store teleport points</li> <li>Admin/test utilities (OOC chat, date, slap, list, etc.)</li> </ul>"},{"location":"#navigation-tips","title":"Navigation Tips","text":"<ul> <li>Top tabs jump between major sections (Getting Started, Configuration, Features, API, Dev).</li> <li>Left sidebar lists pages; right sidebar is an in-page table of contents.</li> <li>Use the search bar (top) for commands, config keys, or classes.</li> </ul>"},{"location":"#support-matrix","title":"Support Matrix","text":"<ul> <li>Java: 17</li> <li>Minecraft: Spigot/Magma 1.20.1</li> <li>Database: MySQL</li> <li>Permissions: LuckPerms API (optional but supported)</li> </ul>"},{"location":"api/overview/","title":"API Overview","text":"<p>Entry point: - <code>Main.getInstance()</code> returns the running plugin.</p> <p>Utilities (constructed in <code>Main</code>): - <code>TeleportUtils</code> \u2014 manage OTP points, teleport effects, item-based teleports. - <code>MoneyUtils</code> \u2014 balances, transfers, conversions, nearby bank checks. - <code>PlayerUtils</code>, <code>EffectUtils</code>, <code>CooldownUtils</code>, <code>ConfigManager</code> \u2014 helper utilities for chat, effects, cooldowns, and configs.</p> <p>Data access: - <code>BackpackRepository</code> \u2014 load/save backpacks via MySQL. - <code>AccountLinkRepository</code> \u2014 Discord \u2194 player linking. - <code>DbUtils.getInstance()</code> \u2014 singleton holding JDBC connection and repositories.</p> <p>Events: - Custom: <code>ArmorEquipEvent</code> (cancellable). - Listeners: see Events.</p> <p>Usage example (inside another plugin): <pre><code>Main bella = Main.getInstance();\nif (bella != null) {\n    bella.mutils.setMoney(player.getUniqueId().toString(), \"miedziak\", 100L);\n}\n</code></pre></p> <p>Threading: - Database calls in repositories use JDBC; avoid heavy work on the main thread in your extensions.</p>"},{"location":"commands/overview/","title":"Commands","text":"Command Permission Usage Notes <code>/wiadomosc &lt;zwierze&gt; &lt;nick&gt;</code> (none) Prepare message Sends templated message <code>/test</code> <code>beloris.test</code> <code>/test</code> Diagnostic <code>/plecak</code> (none) <code>/plecak</code> Open backpack UI <code>/zaczaruj &lt;efekt/lista&gt; [efekt]</code> <code>bella.enchanter</code> Enchant held item Use <code>lista</code> to show effects <code>/przebadaj</code> <code>bella.enchanter.check</code> <code>/przebadaj</code> Inspect held item enchant <code>/link</code> (none) <code>/link</code> Link MC account with Discord <code>/jazda &lt;on/off&gt;</code> (none) Toggle ride QoL toggle <code>/otp</code> <code>bella.otp.use</code> <code>/otp</code> Teleport to saved point <code>/atp</code> <code>bella.atp.admin</code> <code>/atp</code> Admin teleport <code>/o &lt;msg&gt;</code> (none) OOC chat <code>/rnar &lt;zasi\u0119g&gt; [...text]</code> (none) Range narration <code>/date</code> (none) Show server date <code>/portfel [poka\u017c/daj &lt;typ&gt; &lt;ilo\u015b\u0107&gt;]</code> <code>beloris.portfel.admin</code> (admin ops) Wallet actions Uses money config <code>/bank [wp\u0142a\u0107/wyp\u0142a\u0107/przelej &lt;typ&gt; &lt;ilos\u0107&gt; &lt;gracz&gt;]</code> <code>beloris.bank.admin</code> (admin ops) Bank actions Requires nearby bank <code>/wymien &lt;typ&gt; &lt;ilo\u015b\u0107&gt;</code> (none) Exchange money items Conversion rates in <code>money.yml</code> <code>/slap &lt;player&gt;</code> (none) Slap player Fun command <p>Discord (via bot): - <code>/who</code>, <code>/link</code>, <code>/portfel</code>, <code>/bank</code>, <code>/narracja</code> (see Discord bot feature page).</p>"},{"location":"configuration/config-files/","title":"Configuration Files","text":"<p>All configs live in <code>plugins/BellaAddon/</code> after first run:</p> <ul> <li><code>config.yml</code> \u2014 main options and defaults</li> <li><code>tpInfo.yml</code> \u2014 player OTP points (<code>tps.&lt;uuid&gt;.&lt;name&gt;</code>)</li> <li><code>tpLevels.yml</code> \u2014 teleport levels, cooldowns, radii</li> <li><code>money.yml</code> \u2014 banks list, personal/bank balances, conversions</li> <li><code>emoji.yml</code> \u2014 emoji mappings</li> <li><code>playerConfig.yml</code> \u2014 player-specific settings</li> <li><code>database.yml</code> \u2014 MySQL connection (BaseURL, Host, Port, Database, User, Password)</li> <li><code>pwd.txt</code> \u2014 Discord bot token (single line)</li> </ul> <p>Sync these files across servers if you run multiple nodes.</p>"},{"location":"configuration/config-yml/","title":"config.yml","text":"<p>Defaults are created on first run. Key options:</p> <ul> <li><code>OTP-command-delay</code> / <code>setOTP-command-delay</code> (boolean): enforce cooldown checks.</li> <li><code>OTP-time-delay</code> / <code>setOTP-time-delay</code> (seconds): cooldown duration.</li> <li><code>show-setOTP-message</code> (boolean) and <code>setOTP-message</code> (string): feedback after OTP set.</li> <li><code>tp-level-&lt;n&gt;-cld</code> (seconds): cooldown per teleport level.</li> <li><code>tp-level-&lt;n&gt;-radius</code>: max teleport radius for level.</li> <li><code>tp-level-&lt;n&gt;-maxp</code>: max saved points.</li> <li><code>tp-level-&lt;n&gt;-maxpoints</code>: score threshold per level.</li> <li><code>tp-level-&lt;n&gt;-setmaxuse</code>: max uses of set command per level.</li> </ul> <p>Tips: - Keep cooldowns &gt; 0 to avoid spam. - Level keys are generated for 0\u20135 by default; you can extend the range manually.</p>"},{"location":"configuration/database-yml/","title":"database.yml","text":"<p>Provide MySQL credentials:</p> <pre><code>BaseURL: \"jdbc:mysql://\"\nHost: \"db-host\"\nPort: \"3306\"\nDatabase: \"database_name\"\nUser: \"db_user\"\nPassword: \"db_password\"\n</code></pre> <p>Notes: - Use dedicated DB user with limited privileges. - Ensure <code>jdbc:mysql://&lt;Host&gt;:&lt;Port&gt;/&lt;Database&gt;</code> is reachable from the server. - Connection string options are appended automatically (<code>useUnicode=yes&amp;characterEncoding=UTF-8</code>). - Restart the server after edits.</p>"},{"location":"configuration/tp-configs/","title":"Teleport Configs","text":"<p><code>tpInfo.yml</code> - Stores player OTP points under <code>tps.&lt;uuid&gt;.&lt;name&gt;</code> with world, coordinates, yaw/pitch. - Managed by commands; edit with care.</p> <p><code>tpLevels.yml</code> - Stores per-player teleport level and type:   - <code>&lt;uuid&gt;.level</code> \u2014 string level, default <code>\"0\"</code>.   - <code>&lt;uuid&gt;.type</code> \u2014 effect type name (see <code>EffectType</code>). - System also seeds defaults for level cooldowns/radius in <code>config.yml</code>.</p> <p>Operational guidance: - Avoid manual edits unless the server is stopped. - Higher levels reduce cooldown and expand allowed radius.</p>"},{"location":"development/contributing/","title":"Contributing","text":"<ol> <li>Use Java 17; install dependencies with the Gradle wrapper.</li> <li>Run <code>./gradlew clean build shadowJar</code> before opening a PR.</li> <li>Keep public APIs documented; prefer small, focused commits.</li> <li>For DB changes, provide migration notes and sample data.</li> <li>For commands/events, update docs and permissions in <code>plugin.yml</code>.</li> <li>Open PRs against <code>master</code>; describe testing performed.</li> </ol>"},{"location":"development/project-structure/","title":"Project Structure","text":"<ul> <li><code>src/main/java/net/woolf/bella</code> \u2014 core plugin code</li> <li><code>commands</code> \u2014 Bukkit command executors</li> <li><code>events</code> \u2014 listeners and <code>ArmorEquipEvent</code></li> <li><code>utils</code> \u2014 utilities (teleport, money, cooldowns, effects, config, DB)</li> <li><code>bot</code> \u2014 Discord bot (JDA) and commands</li> <li><code>repositories</code> \u2014 DB access for backpacks and account links</li> <li><code>models</code> \u2014 data holders</li> <li><code>types</code> \u2014 enums/constants</li> <li><code>src/main/resources/plugin.yml</code> \u2014 Bukkit plugin descriptor and command map</li> <li><code>build.gradle</code> \u2014 Gradle build and shading</li> <li><code>docs/</code> \u2014 MkDocs sources</li> <li><code>.github/workflows/</code> \u2014 CI/CD pipelines</li> </ul>"},{"location":"development/testing/","title":"Testing","text":"<ul> <li>Build check: <code>./gradlew build shadowJar</code></li> <li>JavaDoc check: <code>./gradlew javadoc</code></li> <li>Smoke test on a local Spigot/Magma 1.20.1 server:</li> <li>Verify commands register (<code>/help bellaaddon</code>).</li> <li>Create OTP point, teleport, and ensure cooldown messages appear.</li> <li>Create/open backpack, add/remove items, relog to confirm persistence.</li> <li>Use <code>/wymien</code>, <code>/portfel</code>, <code>/bank</code> near a bank location.</li> <li>For Discord bot, use a test guild/token and verify slash commands respond.</li> <li>Watch server logs for DB connectivity and permission issues.</li> </ul>"},{"location":"events/custom-events/","title":"Custom Events","text":"<ul> <li><code>ArmorEquipEvent</code> (cancellable)</li> <li>Fired when armor is equipped/unequipped.</li> <li>Location: <code>src/main/java/net/woolf/bella/events/ArmorEquipEvent.java</code></li> </ul> <p>Listeners: - <code>ArmorListener</code> and <code>ArmourEquipEventListener</code> handle equip logic.</p> <p>Subscribe as usual in Bukkit to react to armor changes or cancel them.</p>"},{"location":"events/listened-events/","title":"Listened Bukkit Events","text":"<p>Main listeners: - <code>BellaEvents</code> \u2014 chat, commands, interactions, item damage, join/quit, move, toggle flight, interact entity. - <code>BackpackEvents</code> \u2014 inventory close/click for backpacks, quit handling. - <code>ArmorListener</code> / <code>ArmourEquipEventListener</code> \u2014 armor equip/unequip safety.</p> <p>Purposes: - Teleport chat flow and message caching (<code>AsyncPlayerChatEvent</code>, <code>PlayerCommandPreprocessEvent</code>). - Teleport item use (<code>PlayerInteractEvent</code>, <code>PlayerInteractEntityEvent</code>). - Backpack save/validation (<code>InventoryCloseEvent</code>, <code>InventoryClickEvent</code>, <code>PlayerQuitEvent</code>). - Movement/flight gating for teleport effects (<code>PlayerMoveEvent</code>, <code>PlayerToggleFlightEvent</code>). - Item durability handling (<code>PlayerItemDamageEvent</code>).</p>"},{"location":"features/backpack/","title":"Backpack System","text":"<ul> <li>Backpack items are stored in MySQL (<code>BackpackRepository</code>).</li> <li>Backpacks use NBT flag <code>BackpackNBTKeys.ISBACKPACK</code> and persist inventory contents.</li> <li>Safety: cannot move backpacks while open; bans items from risky mods to prevent loss.</li> <li>Events handled in <code>BackpackEvents</code> to save on close and on player quit.</li> </ul>"},{"location":"features/backpack/#usage","title":"Usage","text":"<ul> <li>Use <code>/plecak</code> to open your backpack.</li> <li>Backpacks are cached; DB persists contents on close.</li> </ul>"},{"location":"features/discord-bot/","title":"Discord Bot","text":"<p>Implemented with JDA in <code>Bot</code>: - Reads token from <code>plugins/BellaAddon/pwd.txt</code> (one line). - Registers slash commands: <code>/who</code>, <code>/link</code>, <code>/portfel</code>, <code>/bank</code>, <code>/narracja</code> with subcommands. - Listens via <code>MessageListener</code>.</p>"},{"location":"features/discord-bot/#setup","title":"Setup","text":"<ol> <li>Create a Discord bot, invite with needed intents (members, messages, reactions).</li> <li>Save the token in <code>pwd.txt</code>.</li> <li>Restart the server to log in the bot.</li> </ol>"},{"location":"features/discord-bot/#usage","title":"Usage","text":"<ul> <li><code>/link code</code> \u2014 links MC account.</li> <li><code>/who</code> \u2014 list online users (optionally staff).</li> <li><code>/portfel</code> / <code>/bank</code> \u2014 admin wallet/bank operations.</li> <li><code>/narracja</code> \u2014 send narration globally, locally (warp/user/range), or privately.</li> </ul>"},{"location":"features/discord-bot/#notes","title":"Notes","text":"<ul> <li>Presence can be changed via <code>Bot.updatePresence</code>.</li> <li>Logs can be sent to channel IDs via <code>Bot.sendLog</code>.</li> </ul>"},{"location":"features/item-enchanting/","title":"Item Enchanting","text":"<p>Command: <code>/zaczaruj &lt;efekt/lista&gt;</code> and <code>/przebadaj</code>.</p> <p>Flow: - <code>ItemEnchanter</code> registers both commands. - Available effects are keys from <code>ItemEffects.stringToEnum</code>. - Enchant writes NBT booleans on the held item; hides attributes and makes it unbreakable. - Item-based teleport uses stored NBT payload (<code>teleportEnchantment</code> compound) read by <code>TeleportUtils.itemTP</code>.</p> <p>Permissions: - <code>bella.enchanter</code> to enchant. - <code>bella.enchanter.check</code> to inspect.</p> <p>Usage tips: - Use <code>/zaczaruj lista</code> to list available effects. - Items must be in main hand. - Teleport items enforce cooldowns and max uses stored in NBT.</p>"},{"location":"features/money/","title":"Money &amp; Bank","text":"<p>Components: - <code>MoneyUtils</code> \u2014 balances, bank proximity, transfers, conversions. - Config: <code>money.yml</code> stores banks list, personal/bank balances, conversions. - Commands: <code>/portfel</code> (wallet), <code>/bank</code> (bank), <code>/wymien</code> (exchange). - Discord admin commands mirror in-game operations.</p> <p>Banks: - Stored as world/XYZ in <code>money.yml</code> under <code>banks</code>. - <code>isNearBank</code> checks 20-block radius; required for some actions.</p> <p>Currency: - Types: <code>miedziak</code>, <code>srebrnik</code>, <code>z\u0142otnik</code>. - Conversions stored under <code>conversion.&lt;from&gt;.&lt;to&gt;</code>; use <code>/wymien</code>.</p> <p>Admin tips: - Set sensible conversion rates and keep them symmetric (from/to, to/from). - Use <code>/bank</code> admin subcommands for audits; require proximity to a bank.</p>"},{"location":"features/teleportation/","title":"Teleportation (OTP/ATP)","text":"<p>Components: - <code>TeleportUtils</code> \u2014 OTP storage, teleport execution, effects. - Config files: <code>tpInfo.yml</code>, <code>tpLevels.yml</code>, and <code>config.yml</code> for defaults. - Commands: <code>/otp</code> (user), <code>/atp</code> (admin). - Cooldowns handled by <code>CooldownUtils</code>; effects by <code>EffectUtils</code>.</p> <p>Behavior: - OTP points saved per player under <code>tps.&lt;uuid&gt;.&lt;name&gt;</code>. - Levels (0\u20135 default) adjust cooldown and radius; type controls visual effect. - Item-based teleport: enchanted item contains coordinates and cooldown, enforced in <code>itemTP</code>.</p> <p>Admin tips: - Adjust <code>tp-level-*</code> keys for balance. - Keep cooldowns &gt; 0 to avoid spam/lag. - Ensure worlds referenced in OTP entries exist before teleporting.</p>"},{"location":"getting-started/building/","title":"Building","text":"<p>Prereqs: Java 17, Git, internet access for dependencies.</p>"},{"location":"getting-started/building/#java-configuration","title":"Java Configuration","text":"<p>Gradle uses <code>JAVA_HOME</code> environment variable or system path to find Java. Options:</p> <p>Option 1: Set JAVA_HOME (recommended) <pre><code># Windows (PowerShell) - add to your profile or set permanently\n$env:JAVA_HOME = \"C:\\Program Files\\Java\\jdk-17\"\n</code></pre> <pre><code># Linux/macOS\nexport JAVA_HOME=/usr/lib/jvm/java-17-openjdk\n</code></pre></p> <p>Option 2: Local gradle properties (gitignored)</p> <p>Create <code>gradle-local.properties</code> in the repo root: <pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk-17\n</code></pre> Then reference it from your IDE or terminal. This file is gitignored so it won't affect CI.</p>"},{"location":"getting-started/building/#build-commands","title":"Build Commands","text":"<pre><code># from repo root (Windows: use gradlew.bat, Linux/macOS: ./gradlew)\n./gradlew clean build shadowJar\n</code></pre> <p>Outputs: - Shaded plugin JAR: <code>build/libs/belladdon-&lt;version&gt;.jar</code> - JavaDoc: <code>build/docs/javadoc</code></p> <p>Useful tasks: - <code>./gradlew clean</code> - remove build outputs - <code>./gradlew javadoc</code> - generate API docs - <code>./gradlew downloadDependencies</code> - warm dependency cache</p> <p>Docs preview: <pre><code>pip install mkdocs mkdocs-material\nmkdocs serve\n# open http://127.0.0.1:8000\n</code></pre></p> <p>CI notes: - GitHub Actions runs on Linux; wrapper path is <code>./gradlew</code> (made executable in workflows).</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<ol> <li>Download the latest release JAR (shadow) from GitHub Releases.</li> <li>Place the JAR in your server <code>plugins</code> folder.</li> <li>Start the server once to generate configuration files in <code>plugins/BellaAddon/</code>.</li> <li>Configure:</li> <li><code>config.yml</code> (OTP/ATP behavior)</li> <li><code>tpInfo.yml</code>, <code>tpLevels.yml</code></li> <li><code>money.yml</code>, <code>emoji.yml</code>, <code>playerConfig.yml</code></li> <li><code>database.yml</code> (MySQL connection)</li> <li><code>pwd.txt</code> (Discord bot token, one line)</li> <li>Restart the server and verify the log contains no DB or config errors.</li> </ol>"},{"location":"getting-started/installation/#upgrade","title":"Upgrade","text":"<ol> <li>Backup your config files and database.</li> <li>Replace the old JAR with the new release.</li> <li>Restart the server.</li> </ol>"},{"location":"getting-started/requirements/","title":"Requirements","text":"<ul> <li>Java 17 (toolchain enforced in <code>build.gradle</code>)</li> <li>Spigot or Magma server 1.20.1</li> <li>MySQL database reachable from the server</li> <li>LuckPerms API present (recommended)</li> <li>Discord bot token saved in <code>plugins/BellaAddon/pwd.txt</code> (for bot features)</li> <li>Network access to download dependencies on first run</li> </ul> <p>Optional: - Git + Gradle (wrapper included) for building from source - MkDocs + Material theme for docs development</p>"},{"location":"javadoc/legal/jquery/","title":"Jquery","text":""},{"location":"javadoc/legal/jquery/#jquery-v371","title":"jQuery v3.7.1","text":""},{"location":"javadoc/legal/jquery/#jquery-license","title":"jQuery License","text":"<pre><code>jQuery v 3.7.1\nCopyright OpenJS Foundation and other contributors, https://openjsf.org/\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n</code></pre>"},{"location":"javadoc/legal/jqueryUI/","title":"jqueryUI","text":""},{"location":"javadoc/legal/jqueryUI/#jquery-ui-v1141","title":"jQuery UI v1.14.1","text":""},{"location":"javadoc/legal/jqueryUI/#jquery-ui-license","title":"jQuery UI License","text":"<pre><code>Copyright OpenJS Foundation and other contributors, https://openjsf.org/\n\nThis software consists of voluntary contributions made by many\nindividuals. For exact contribution history, see the revision history\navailable at https://github.com/jquery/jquery-ui\n\nThe following license applies to all parts of this software except as\ndocumented below:\n\n====\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n====\n\nCopyright and related rights for sample code are waived via CC0. Sample\ncode is defined as all source code contained within the demos directory.\n\nCC0: http://creativecommons.org/publicdomain/zero/1.0/\n\n====\n\nAll files located in the node_modules and external directories are\nexternally maintained libraries used by this software which have their\nown licenses; we recommend you read them, as their terms may differ from\nthe terms above.\n</code></pre>"}]}